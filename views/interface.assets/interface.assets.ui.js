UItransform={formatFloat:function(n){if(isNaN(n)){output="?"}else{var balance=bigNumberToString(toInt(n));if(balance==="0"){output="0"}else{var maxlen=11;output=balance.substr(0,maxlen);if(balance.length>maxlen){output+="<span>&hellip;</span>"}}}return output},txStart:function(){loadSpinner();$("#action-send .pure-button-send").addClass("pure-button-disabled").removeClass("pure-button-primary");$("#action-send").css("opacity","0.7")},txStop:function(){stopSpinner();$("#action-send .pure-button-send").removeClass("pure-button-disabled").addClass("pure-button-primary");$("#action-send").css("opacity","1")},txHideModal:function(){$("#action-send").modal("hide").css("opacity","1")},setBalance:function(element,setBalance){$(element).html(setBalance)},deductBalance:function(element,newBalance){$(element).html('<span style="color:#6B6;">'+String(newBalance))+"</span>"}};$(".clearable").each(function(){var $inp=$(this).find("input:text"),$cle=$(this).find(".clearable__clear");$inp.on("input",function(){$cle.toggle(!!this.value)});$cle.on("touchstart click",function(e){e.preventDefault();$inp.val("").trigger("input")})});displayAssets=function displayAssets(){balance={};balance.asset=[];balance.amount=[];balance.lasttx=[];var activeAssetsObj={};var i=0;for(i=0;i<GL.assetsActive.length;++i){if(typeof GL.assetmodes[GL.assetsActive[i]]!=="undefined"){activeAssetsObj[GL.assetsActive[i]]=GL.assetmodes[GL.assetsActive[i]]}}var i=0;var output="";output+='<div class="table">';output+='<div class="thead">';output+='<div class="tr">';output+='<div class="th col1 asset-title">Asset</div>';output+='<div class="th col2">Balance</div>';output+='<div class="th col3">Valuation</div>';output+='<div class="th col4 actions"></div>';output+="</div>";output+="</div>";output+='<div class="tbody">';for(var entry in activeAssetsObj){var symbolName=entry.slice(entry.indexOf(".")+1);balance.asset[i]=entry;balance.amount[i]=0;balance.lasttx[i]=0;var maybeAsset=GL.assetsStarred.find(function(starred){return starred.id===balance.asset[i]});var element=balance.asset[i].replace(/\./g,"-");var maybeStarActive=maybeAsset===undefined?"":' id="'+maybeAsset["id"].replace(/\./g,"_")+'" onclick=toggle_star('+i+") ";var balanceInDollars=renderDollarPrice(symbolName,balance.amount[i]);var icon=symbolName in black.svgs?black.svgs[symbolName]:mkSvgIcon(symbolName);output+='<div class="tr">';output+='<div id="asset-'+element+'" class="td col1 asset asset-'+element+'"><div class="icon">'+icon+"</div>"+entry+'<div class="star"><a'+maybeStarActive+'role="button">'+svg["star"]+"</a></div></div>";output+='<div class="td col2"><div class="balance balance-'+element+'">'+progressbar()+"</div></div>";output+='<div class="td col3"><div id="'+symbolName+'-dollar" class="dollars" style="color: #AAA;">n/a</div></div>';output+='<div class="td col4 actions">';output+='<div class="assetbuttons assetbuttons-'+element+' disabled">';output+="<a onclick='fill_send(\""+entry+'");\' href="#action-send" class="pure-button pure-button-large pure-button-primary" role="button" data-toggle="modal" disabled="disabled"><div class="icon">'+svg["send"]+"</div>Send</a>";output+="<a onclick='fill_recv(\""+entry+'");\' href="#action-receive" class="pure-button pure-button-large pure-button-secondary" role="button" data-toggle="modal" disabled="disabled"><div class="icon">'+svg["receive"]+"</div>Receive</a>";output+="</div>";output+="</div></div>";i++}output+="</div></div>";ui_assets({i:i,balance:balance,path:path});intervals=setInterval(function(path){ui_assets({i:i,balance:balance,path:path})},3e4,path);$(".assets-main > .data").html(output);for(var i=0;i<GL.assetsStarred.length;i++){setStarredAssetClass(i,GL.assetsStarred[i]["starred"])}scrollToAnchor()};$(document).ready(function(){var output='<div style="text-align: center; margin-left: auto; margin-right: auto; width: 30%; color: #CCC;">'+svg["cogs"]+"</div>";$("#advancedmodal").html(output);$(".manage-icon").html(svg["edit"]);$(".assets-main .spinner-loader").fadeOut("slow",function(){displayAssets()})});function loadSpinner(){document.querySelector("#action-send .spinner").classList.add("active")}function stopSpinner(){document.querySelector("#action-send .spinner").classList.remove("active")}
